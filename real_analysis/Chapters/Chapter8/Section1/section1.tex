%----------------------------------------------------------------------------------------
%	SECTION 1.1
%----------------------------------------------------------------------------------------

\section{$\sigma$-algebras and Measure.}

\begin{definition}
    Let $X$ be a set and  $\Ac=\{A_\alpha\}$ a collection of subsets of $X$. We
    call $\Ac$ a \textbf{$\sigma$-algebra} if:
     \begin{enumerate}
         \item[(1)] $\emptyset \in \Ac$.

         \item[(2)] $\com{X}{A_\alpha} \in \Ac$ for any $\alpha$.

         \item[(3)] $\Ac$ is closed under countable unions.
     \end{enumerate}
\end{definition}

\begin{theorem}\label{8.1.1}
    Let $X$ be a set and  $\Ac$ a collection of subsets of  $X$. Then there
    exists a smallest  $\sigma$-algebra containing  $\Ac$.
\end{theorem}

\begin{definition}
    The collection $\Bc$ of  \textbf{Borel sets} of real numbers is the smallest
    $\sigma$-algebra containing all open sets of  $R$. We call  $\Bc$ the
    \textbf{Borel algebra}.
\end{definition}

\begin{definition}
    Let $I$ be a nondegenerate interval on  $\R$. We define the  \textbf{length}
    of $I$,  $l(I)$ to be the difference of its endpoints if $I$ is bounded and
     $l(I)=\infty$ otherwise.
\end{definition}

\begin{definition}
    For a set $A \susbeteq \R$ consider a countable collection  $\{I_n\}$ of
    intervals that covers $A$. We define the \textbf{outer measure} of $A$ to be
    the map $m^*:2^\R \xrightarrow{} [0,\infty)$ defined by: $m^*(A)
    =\inf{\{\sum{l(I_n)}\}}$ for all such countable collections.
\end{definition}

\begin{lemma}\label{8.1.2}
    Consider the outer measure $m^*:A \xrightarrow{} m^*(A)$, then the following
    are true:
    \begin{enumerate}
        \item[(1)] $m^*(\emptyset)=0$.

        \item[(2)] If $A \subseteq B$, then  $m^*(A) \subseteq m^*(B)$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    Notice that $\emptyset$ is covered by the interval  $[x,x]$, whose length is
    $0$. Then by definition  $m^*(\emptyset)=l([x,x])=0$.

    Now let $A \subseteq B$, if  $\{I_n\}$ covers $B$, then  $\{I_n\}$ covers
    $A$. Let  $U=\{l(I_n) : A \subseteq \bigcup{I_n}\}$ and $V=\{l(I_n) : B
    \subseteq \bigcup{I_n}\}$. Then $\inf{U} \leq \inf{V}$, so we have that
    $m^*(A) \leq m^*(B)$.
\end{proof}

\begin{example}\label{}
    Countable sets have outer measure $0$. if  $E$ is countable, then one can
    list its elements as $E=\{e_1, \dots, e_n, \dots\}$ such that.  $\{e_i\} \cap
    {\e_j\}=\emptyset$ if $i \neq j$. Notice that  $\{e_i\} \subseteq E$
    and that $E=\bigcup{\{e_i\}}$. Moreover, each $\{e_i\}$ is covered by
    $[e_i,e_i]$, with $l([e_i,e_i])=0$. So $m^*(\{e_i\})=0$. Therefore, assuming
    countable subadditivity of $m^*$, we get that  $m^*(E) \leq
    \sum{m^*(\{e_i\})}=0$. Since $0 \leq m^*(E)$, we get equality.
\end{example}

\begin{theorem}\label{8.1.3}
    The following is true for outer measure.
    \begin{enumerate}
        \item[(1)] $m^*([a,b])=m^*((a,b))=b-a$ for all $a,b \in \R$.

        \item[(2)] $m^*$ is translation invariant. That is if $m^*(A+y)=m^*(A)$.

        \item[(3)] $m^*$ is countably subadditive, that is if $\{E_k\}$ is a
            countable collection of subsets of $E$, covering $E$ then
            \begin{equation}
                m^*(E) \leq \sum{m^*(E_k)}
            \end{equation}
    \end{enumerate}
\end{theorem}
\begin{proof}
    Consider first the interval $[a,b]$. For $\epsilon>0$  notice
    $(a-\epsilon,b+\epsilon)$ contains $[a,b]$. Then $m^*([a,b]) \leq
    m^*((a-\epsilon,b+\epsilon)) \leq l((a-\epsilon,b+\epsilon))=b-a+2\epsilon$.
    This shows that $m^*([a,b]) \leq b-a$. Now, by the Heine-Borel therem
    $[a,b]$ is compact, so let $\{I_n\}$ be a open cover of $[a,b]$ and let
    $\{I_k\}_{k=1}^{n}$ a finite open subcover. Then if $I_1=(a_1,b_1)$ contains
    $a$, then we have  $a_1<a<b_1$. Now if $b_1 \geq b$ then we have
    \begin{equation*}
        \sum{l(I_1)} \leq b_1-a_1>b-a
    \end{equation*}
    If $a \leq b_1 < b$, since $b_1 \notin (a_1,b_1)$, there is an interval
    $I_2=(a_2,b_2)$ with $b_1 \in (a_2,b_2)$, and disjoint from $I_1$. Then if
    $b_2 \geq b_b$ then we get
    \begin{equation*}
        \sum{l(I_2)} \geq (b_1-a_1)+(b_2-a_2)>b_2-a_1>b-a
    \end{equation*}
    Proceeding inductively, we get get a subcollection $\{(a_k,b_k)\}_{k=1}^n$
    with $a_1<a$ and $a_{k+1}b_k$ for all $1 \leq k \leq n-1$. Thus we get
    \begin{equation*}
        \sum{l(I_k)} \geq \sum{l((a_k,b_k))} \leq (b_n-a_n)+ \dots
        +(b_1-a_1)=b_n-a_1>b-a
    \end{equation*}

    Now if $I$ is any bounded interval for  $\epsilon>0$ there exist closed
    bounded intervals  $J_1,J_2$ with $J_1 \leq I \leq J_2$ with
    $l(I)-\epsilon<l(J_1)<l(I)<l(J_1)<l(I)+\epsilon$. Then we have
    $l(E)-\epsilon<m^*(J_1) \leq m^*(I) \leq m^*(J_2)<l(I)+\epsilon$. This
    forces $l(I)=m^*(I)$.

    Now if $I$ is unbounded there is a subinterval $J \subseteq I$ with
    $m^*(J)=n$. then $m^*(J)=n \leq m^*(I)$. As $n$ gets alrge, so does
    $l(I)$, so $m^*(I)=\infty$.

    Consider now, for any set $A$, the set $A+y$. Then the collecton  $\{I_n\}$
    covers $A$ if, and only if  $\{I_n+y\}$ covers $A+y$. Moreover, if  $I_n$ is
    an interval, then  $l(I_n)=l(I_n+y)$. This makes $m^*(A+y)=m^*(A)$.

    Now, let $\{E_k\}$ be a collection of open subsets of $E$, covering  $E$. If
     $m^*(E_k)=\infty$ for some $k$, we are done. Suppose then that no  $E_k$
     has such measure. Consider then the countable collection  $\{I_{n,k}\}_k$
     of open and bounded initervals covering $E_n$, i.e.  $E_n \subseteq
     \bigcup_{k}{I_{n,k}}$, and $\sum{l(I_{n,k})} \leq
     m^*(E_n)+\frac{\epsilon}{2^n}$. Then by definition of $m^*$, we get
     $m^*(\bigcup{E_n}) \leq
     \sum{l(I_{n,k})}<\sum{(m^*(E_k)+\frac{\epsilon}{2^n})}<\sum{m^*(E_n)}+\epsilon$.
\end{proof}

\begin{definition}
    We say that an outermeasure $m^*$ is  \textbf{finitely subadditive} if for
    any finite collection $\{E_k\}_{k=1}^n$ of open subsets of $E$, covering
    $E$, then
    \begin{equation*}
        m^*(E) \leq \sum_{k=1}^n{m^*(E_k)}
    \end{equation*}
\end{definition}
